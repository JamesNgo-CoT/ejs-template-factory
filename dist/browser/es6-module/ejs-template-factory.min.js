function frag(o){return null==o?"":Array.isArray(o)?o.filter((o=>null!=o)).join(""):o}function tag(o,n,l){"function"==typeof o&&o(n,l);const r=`<${[o,...null==n?[]:Object.keys(n).map((o=>null==n[o]?null:`${o}="${n[o]}"`)).filter((o=>null!=o))].join(" ")}>`;return null==l?r:`${r}${frag(l)}</${o}>`}function style(o){return null==o?"":Object.keys(o).map((n=>null==o[n]?null:o[n]&&"object"==typeof o[n]?`${n} { ${style(o[n])} }`:`${n}: ${o[n]};`)).filter((o=>null!=o)).join(" ")}function exp(o,{escaped:n=!1}={}){return`${n?"<%-":"<%="} ${o} %>`}function code(o){return["<%",null==o?null:o,"%>"].filter((o=>null!=o)).join(" ")}function cond(o,n,l){return[code(`if (${o}) {`),null==n?null:frag(n),...null==l?[]:["<% } else { %>",frag(l)],code("}")].filter((o=>null!=o)).join("")}function forLoop(o,n,l,r){return[code(`for (let ${o}; ${n}; ${l}) {`),null==r?null:frag(r),code("}")].filter((o=>null!=o)).join("")}function doLoop(o,n){return[code("do {"),null==o?null:frag(o),code(`} while(${n})`)].filter((o=>null!=o)).join("")}function whileLoop(o,n){return[code(`while(${o}) {`),null==n?null:frag(n),code("}")].filter((o=>null!=o)).join("")}function fromJson(o){return null==o?"":Array.isArray(o)?fromJson({type:"frag",children:o}):"object"==typeof o?fromJson[o.type]?fromJson[o.type](o):"":o}fromJson.frag=({children:o}={})=>frag(null==o?o:Array.isArray(o)?o.map((o=>fromJson(o))):fromJson(o)),fromJson.tag=({name:o,attributes:n,children:l})=>tag(o,n,null==l?l:fromJson(l)),fromJson.exp=({value:o,options:n})=>exp(o,n),fromJson.code=({value:o})=>code(o),fromJson.cond=({condition:o,trueChildren:n,falseChildren:l})=>cond(o,null==n?n:fromJson(n),null==l?l:fromJson(l)),fromJson.forLoop=({initial:o,condition:n,increment:l,children:r})=>forLoop(o,n,l,null==r?r:fromJson(r)),fromJson.doLoop=({children:o,condition:n})=>doLoop(null==o?o:fromJson(o),n),fromJson.whileLoop=({condition:o,children:n})=>whileLoop(o,null==n?n:fromJson(n));export{frag,tag,style,exp,code,cond,forLoop,doLoop,whileLoop,fromJson};
//# sourceMappingURL=ejs-template-factory.min.js.map
